import pybullet as p

# å®šä¹‰å¤šæ— äººæœºç¼–é˜Ÿç¯å¢ƒçš„é…ç½®å‚æ•°
multi_drone_env = {
    # ä½¿ç”¨ PyBullet çš„ç›´æ¥æ¨¡å¼é¿å…GUIå†²çª
    "display": p.DIRECT,  # å¯é€‰ï¼šp.DIRECT æˆ– p.GUI

    # æ˜¯å¦å¼ºåˆ¶æ‰€æœ‰æ— äººæœºä¿æŒåŒä¸€é«˜åº¦å¹³é¢ï¼ˆå¹³é¢æ¨¡å¼ï¼‰- å¯ç”¨å¹³é¢æ¨¡å¼ï¼Œåªåœ¨x-yå¹³é¢å†…ç§»åŠ¨
    "enforce_planar": True,

    # è°ƒè¯•è¾“å‡ºæ§åˆ¶
    "debug_collision": False,  # æ˜¯å¦è¾“å‡ºç¢°æ’æ£€æµ‹ä¿¡æ¯
    "debug_action": False,  # æ˜¯å¦è¾“å‡ºåŠ¨ä½œä¿¡æ¯
    
    # é«˜åº¦ç›¸å…³é…ç½® - å›ºå®šé«˜åº¦ï¼Œå¹³é¢é£è¡Œæ¨¡å¼
    "start_height": 1.6,  # æ— äººæœºèµ·å§‹é«˜åº¦ï¼Œå›ºå®šé«˜åº¦
    "goal_height": 1.6,   # ç›®æ ‡é«˜åº¦ï¼Œä¸èµ·å§‹é«˜åº¦ä¸€è‡´
    
    # å¹³é¢è¿åŠ¨åŠ¨ä½œç©ºé—´:å›ºå®šç¿¼é£æ ¼ - æŒç»­å‰è¿› + è½¬å‘æ‰­çŸ©(é…åˆæ‘„åƒå¤´é¿éšœ)
    "thrust_lower_bound": 0.5,   # ğŸš€ å›ºå®šç¿¼æ¨¡å¼:æœ€å°é€Ÿåº¦çº¦1.5-2 m/s,é¿å…å¤±é€Ÿ
    "thrust_upper_bound": 1.5,   # ğŸš€ æœ€å¤§é€Ÿåº¦çº¦4.5-5 m/s,ç•™å‡ºååº”æ—¶é—´
    "torque_lower_bound": -0.01,  # ğŸ”¥ è½¬å‘æ‰­çŸ© - äº§ç”Ÿçº¦146Â°/sè§’é€Ÿåº¦(å¯æ§)
    "torque_upper_bound": 0.01,   # ğŸ”¥ è½¬å‘æ‰­çŸ© - é¿å…ç–¯ç‹‚æ—‹è½¬
    
    # å›ºå®šç¿¼è¡Œä¸ºçº¦æŸ
    "min_forward_speed": 0.3,    # ğŸ›« æœ€å°å‰è¿›é€Ÿåº¦é˜ˆå€¼(m/s) - ä½äºæ­¤é€Ÿåº¦å°†å—åˆ°æƒ©ç½š
    "optimal_speed_range": [1.5, 2.5],  # ğŸ¯ æœ€ä¼˜é€Ÿåº¦èŒƒå›´(m/s) - åœ¨æ­¤èŒƒå›´å†…è·å¾—å¥–åŠ±

    # 3Dè¿åŠ¨åŠ¨ä½œç©ºé—´ï¼šä¸–ç•Œåæ ‡ç³»ç›´æ¥åŠ›æ§åˆ¶ï¼ˆç”¨äºç¬¬äºŒé˜¶æ®µç¼–é˜Ÿè®­ç»ƒï¼‰
    "thrust_x_lower_bound": -1.0,  # Xè½´æ¨åŠ›ä¸‹é™
    "thrust_x_upper_bound": 1.0,   # Xè½´æ¨åŠ›ä¸Šé™
    "thrust_y_lower_bound": -1.0,  # Yè½´æ¨åŠ›ä¸‹é™
    "thrust_y_upper_bound": 1.0,   # Yè½´æ¨åŠ›ä¸Šé™
    "thrust_z_lower_bound": -1.0,  # Zè½´æ¨åŠ›ä¸‹é™
    "thrust_z_upper_bound": 1.0,   # Zè½´æ¨åŠ›ä¸Šé™

    # ç¼–é˜Ÿä¸­æ— äººæœºçš„æ•°é‡
    "num_drones": 5,
    # æ— äººæœºä¹‹é—´çš„æœŸæœ›è·ç¦» (ç±³)
    "formation_distance": 0.45,

    "render_formation_lines": False,  # æ˜¯å¦æ¸²æŸ“ç¼–é˜Ÿçº¿
    "render_goal_hint": True,  # æ˜¯å¦ç»™é¢†èˆªè€…ç»˜åˆ¶åˆ°ç›®æ ‡çš„æç¤ºçº¿/æ–‡å­—

    "camera_follow": True,  # ç›¸æœºè·Ÿéšé¢†èˆªè€…
    "camera_target": "leader",  # ç›¸æœºç›®æ ‡ï¼š'leader'ï¼ˆé¢†èˆªè€…ï¼‰ã€'formation'ï¼ˆç¼–é˜Ÿä¸­å¿ƒï¼‰
    "camera_distance": 3.0,  # ç›¸æœºè·ç¦»
    "camera_yaw": 30.0,  # ç›¸æœºåèˆªè§’åº¦ï¼ˆä¸camera_manageré»˜è®¤é…ç½®åŒæ­¥ï¼‰
    "camera_pitch": -20.0,  # ç›¸æœºä¿¯ä»°è§’åº¦ï¼ˆä¸camera_manageré»˜è®¤é…ç½®åŒæ­¥ï¼‰

    # æ·±åº¦ç›¸æœºå’ŒCNNç‰¹å¾æå–é…ç½®
    "use_depth_camera": True,  # æ˜¯å¦ä½¿ç”¨æ·±åº¦ç›¸æœº
    "depth_width": 64,  # æ·±åº¦å›¾åƒå®½åº¦
    "depth_height": 64,  # æ·±åº¦å›¾åƒé«˜åº¦
    "depth_fov": 50.0,  # æ·±åº¦ç›¸æœºè§†åœºè§’ï¼ˆä¸camera_manageré»˜è®¤é…ç½®åŒæ­¥ï¼‰
    "depth_near": 0.8,  # æ·±åº¦ç›¸æœºè¿‘è£å‰ªé¢
    "depth_far": 12.0,  # æ·±åº¦ç›¸æœºè¿œè£å‰ªé¢
    "cnn_feature_dim": 128,  # CNNç‰¹å¾æå–ç»´åº¦
    "enhanced_features_dim": 2,  # å¢å¼ºç‰¹å¾ç»´åº¦ï¼ˆéšœç¢ç‰©æ£€æµ‹ã€æœ€å°æ·±åº¦ï¼‰
    "depth_feature_dim": 130,  # æ€»æ·±åº¦ç‰¹å¾ç»´åº¦ï¼ˆCNN + å¢å¼ºç‰¹å¾ï¼‰

    # æ·±åº¦å¤„ç†å™¨å‚æ•° - ä¸reward_calculatorä¿æŒä¸€è‡´
    "depth_scale": 4.0,         # æ·±åº¦ç¼©æ”¾å› å­
    "max_depth": 2.0,           # æœ€å¤§æ·±åº¦å€¼

}
